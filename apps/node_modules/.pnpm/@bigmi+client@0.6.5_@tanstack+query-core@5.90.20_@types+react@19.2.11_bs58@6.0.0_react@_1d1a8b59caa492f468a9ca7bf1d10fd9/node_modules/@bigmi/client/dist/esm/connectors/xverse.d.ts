import type { Account, AddressPurpose } from '@bigmi/core';
import type { UTXOConnectorParameters, UTXOWalletProvider } from './types.js';
export type XverseBitcoinNetwork = 'Mainnet' | 'Testnet' | 'Testnet4' | 'Signet';
export type XverseStacksNetwork = 'Mainnet' | 'Testnet';
export type XverseNetworkChangeEventParams = {
    type: 'network_change';
    bitcoin: {
        name: XverseBitcoinNetwork;
    };
    stacks: {
        name: XverseStacksNetwork;
    };
    addresses: Account[];
};
export type XverseBitcoinEventMap = {
    accountChange(accounts: Account[]): void;
    networkChange(event: XverseNetworkChangeEventParams): void;
};
export type XverseBitcoinEvents = {
    addListener<TEvent extends keyof XverseBitcoinEventMap>(event: TEvent, listener: XverseBitcoinEventMap[TEvent]): void;
    removeListener?<TEvent extends keyof XverseBitcoinEventMap>(event: TEvent, listener: XverseBitcoinEventMap[TEvent]): void;
};
type XverseConnectorProperties = {
    getAccounts(): Promise<readonly Account[]>;
    onAccountsChanged(accounts: Account[]): void;
    getInternalProvider(): Promise<XverseBitcoinProvider>;
} & UTXOWalletProvider;
type Error = {
    code: number;
    message: string;
};
interface GetAccountsRequest {
    purposes: AddressPurpose[];
}
interface GetAccountsResponse {
    result?: {
        addresses: Account[];
    };
    error?: Error;
}
interface RequestPermissionsResponse {
    result?: boolean;
    error?: Error;
}
interface GetNetworkResponse {
    result?: {
        bitcoin: {
            name: XverseBitcoinNetwork;
        };
        stacks: {
            name: XverseStacksNetwork;
        };
    };
    error?: Error;
}
type XverseBitcoinProvider = {
    request(method: 'signPsbt', options: {
        psbt: string;
        allowedSignHash: number;
        signInputs: Record<string, number[]>;
        broadcast: boolean;
    }): Promise<string>;
    request(method: 'getAccounts' | 'getAddresses', options: GetAccountsRequest): Promise<GetAccountsResponse>;
    request(method: 'wallet_requestPermissions' | 'wallet_renouncePermissions'): Promise<RequestPermissionsResponse>;
    request(method: 'wallet_getNetwork'): Promise<GetNetworkResponse>;
} & XverseBitcoinEvents;
export declare function xverse(parameters?: UTXOConnectorParameters): import("../index.js").CreateConnectorFn<UTXOWalletProvider | undefined, XverseConnectorProperties, Record<string, unknown>>;
export declare namespace xverse {
    var type: "UTXO";
}
export {};
